package luckhye;

import java.util.Arrays;

public class _02_06_mergy_sort {

  public static void main(String[] args) {
   // --------- ìˆ˜ë“¤ ----------- << ê°’ì˜ íƒ€ì…ì„ ì¨ì•¼ê² ë‹¤! (ë°ì´í„° íŠ¹ì„±ì´ ìƒê°ë˜ë„¤)
   // (5, 2, 4, 6) -> (5,2), (4,6)
   // (5,2) -> (5), (2) -> êµí™˜ -> (2,5)

   // --------- ì•Œê³ ë¦¬ì¦˜ --------
   // ë¦¬ìŠ¤íŠ¸ -> ë¦¬ìŠ¤íŠ¸ ì ˆë°˜ -> ... -> ì›ì†Œ í•˜ë‚˜ -> êµí™˜í•´ì„œ ìˆœì„œëŒ€ë¡œ ì €ì¥

    // -------- gpt ìˆ˜ë“¤ ------------
    //3ï¸âƒ£ ì˜ˆì‹œ
    //ë°°ì—´: [2,5] ì™€ [1,4,6] í•©ì¹˜ê¸°
    //ë¹„êµ: 2 > 1 â†’ temp = [1]
    //ë¹„êµ: 2 > 4? no â†’ temp = [1,2]
    //ì™¼ìª½ ë°°ì—´ ë â†’ ë‚¨ì€ ì›ì†Œ ì—†ìŒ
    //ì˜¤ë¥¸ìª½ ë°°ì—´ ë‚¨ì€ ì›ì†Œ â†’ temp = [1,2,4,6]

    int[] arr = {5, 2, 4, 6, 1, 3};
    mergeSort(arr, 0, arr.length - 1);
    System.out.println(Arrays.toString(arr)); // [1, 2, 3, 4, 5, 6]
  }

  public static void mergeSort(int[] arr, int left, int right ) {
    if (left >= right) return; // âœ… ì¬ê·€ ì¢…ë£Œ ì¡°ê±´

    int mid = (left + right) / 2; // âœ… left/right ê¸°ì¤€ mid ê³„ì‚°

    mergeSort(arr, left, mid);

    mergeSort(arr, mid + 1, right);

    merge(arr, left, mid, right);
  }

  public static void merge(int[] arr, int left, int mid, int right) {
    int[] temp = new int[right-left+1]; // [left, right] ë°°ì—´êµ¬ê°„, ì¸ë±ìŠ¤ êµ¬ê°„ì€ ë‹«íŒì§‘í•©ì´ë¯€ë¡œ, ë‹«íŒì§‘í•©ë¼ë¦¬ ëº€ í›„ ì¼ì„ ë”í•´ì¤˜ì•¼í•¨.
    int ls = left, rs = mid + 1, k = 0;


    // ì™¼ìª½ê³¼ ì˜¤ë¥¸ìª½ ë°°ì—´ ëª¨ë‘ ì›ì†Œê°€ ë‚¨ì•„ ìˆì„ ë•Œë§Œ ì„œë¡œ ë¹„êµ
    while (ls <= mid && rs <= right) {
      if (arr[ls] <= arr[rs]) {
        temp[k++] = arr[ls++];
      }else  {
        temp[k++] = arr[rs++];
      }
    }

    // ì•„ ë³€ìˆ˜ì— ì €ì¥ë˜ê¸° ì „ì´ í›„ì „. í›„ê°€ í›„ìœ„
    // í›„ìœ„(postfix, i++) â†’ ë³€ìˆ˜ì— ì €ì¥ë˜ê¸° ì „ì— ê¸°ì¡´ ê°’ ë¨¼ì € ì‚¬ìš© â†’ ê·¸ í›„ 1 ì¦ê°€
    // ì „ìœ„(prefix, ++i) â†’ ë³€ìˆ˜ì— ì €ì¥ë˜ê¸° ì „ì— ë¨¼ì € 1 ì¦ê°€ â†’ ì¦ê°€ëœ ê°’ ì‚¬ìš©

    // ë‚¨ì€ ì›ì†Œ ì¶”ê°€
    while (ls <= mid) temp[k++] = arr[ls++]; // ì—˜ì—ìŠ¤ë¥¼ ì´ˆê¸°í™”í–ˆê¸°ë•Œë¬¸ì— ê°€ëŠ¥
    while (rs <= right) temp[k++] = arr[rs++];

    // ì •ë ¬ëœ tempë¥¼ ì›ë˜ ë°°ì—´ì— ë³µì‚¬
    for (int t = 0; t < temp.length; t++) {
      arr[left + t] = temp[t];
    }

  }

//ğŸ”¹ êµ¬ì¡° ì„¤ëª…
//
//  ë¶„í• (Divide)
//
//  ë°°ì—´ì„ leftmidì™€ mid+1rightë¡œ ë‚˜ëˆ”
//
//  ì¬ê·€ í˜¸ì¶œë¡œ ë” ì‘ì€ ë°°ì—´ê¹Œì§€ ë¶„í• 
//
//  í•©ì¹˜ê¸°(Merge)
//
//  ë‘ ì •ë ¬ëœ ë¶€ë¶„ì„ ë¹„êµí•˜ë©° ì‘ì€ ê°’ë¶€í„° ì„ì‹œ ë°°ì—´ tempì— ë„£ìŒ
//
//  ë‚¨ì€ ê°’ë„ ëª¨ë‘ ë„£ê³ , arrayì— ë‹¤ì‹œ ë³µì‚¬
//
//  ì‹œê°„ë³µì¡ë„
//
//  ë°°ì—´ nê°œ â†’ logâ‚‚(n)ë²ˆ ë¶„í• 
//
//  í•©ì¹˜ê¸° ê³¼ì •ì—ì„œ në²ˆ ë¹„êµ
//
//  ìµœì¢… O(n log n)


}